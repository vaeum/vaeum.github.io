"use strict";var istouch="ontouchstart"in window?"touchstart":"click",url="",Share={vk:function(o,t,n,e){url="http://vkontakte.ru/share.php?",url+="url="+encodeURIComponent(o),url+="&title="+encodeURIComponent(t),url+="&description="+encodeURIComponent(e),url+="&image="+encodeURIComponent(n),url+="&noparse=true",Share.popup(url)},ok:function(o,t){url="http://www.odnoklassniki.ru/dk?st.cmd=addShare&st.s=1",url+="&st.comments="+encodeURIComponent(t),url+="&st._surl="+encodeURIComponent(o),Share.popup(url)},fb:function(o,t,n,e){url="http://www.facebook.com/sharer.php?s=100",url+="&p[title]="+encodeURIComponent(t),url+="&p[summary]="+encodeURIComponent(e),url+="&p[url]="+encodeURIComponent(o),url+="&p[images][0]="+encodeURIComponent(n),Share.popup(url)},tw:function(o,t){url="http://twitter.com/share?",url+="text="+encodeURIComponent(t),url+="&url="+encodeURIComponent(o),url+="&counturl="+encodeURIComponent(o),Share.popup(url)},mailru:function(o,t,n,e){url="http://connect.mail.ru/share?",url+="url="+encodeURIComponent(o),url+="&title="+encodeURIComponent(t),url+="&description="+encodeURIComponent(e),url+="&imageurl="+encodeURIComponent(n),Share.popup(url)},li:function(o,t,n){url="http://www.linkedin.com/shareArticle?mini=true",url+="&url="+encodeURIComponent(o),url+="&title="+encodeURIComponent(t),url+="&summary="+encodeURIComponent(n),Share.popup(url)},popup:function(o){window.open(o,"","toolbar=0,status=0,width=626,height=436")}};$(function(){function o(){var o=$(window).width();o>=1007?($(".modern-upbutton").css("width",(o-1e3)/2),a=!1):o>=955?($(".modern-upbutton").addClass("its-a-mobile-modern-upbutton"),a=!1):(a=!0,$(".modern-upbutton").hide())}function t(){return $(".modern-upbutton").attr("data-pos",$(window).scrollTop()),$("body,html").animate({scrollTop:0},500),setTimeout(function(){$(".modern-upbutton").attr("data-scroll","down")},501),!1}function n(){return s=$(".modern-upbutton").attr("data-pos"),$(".modern-upbutton").attr("data-pos",0),$("body,html").animate({scrollTop:s},500),setTimeout(function(){$(".modern-upbutton").attr("data-scroll","up")},501),!1}function e(){var o=new Date((new Date).getTime()+864e5);document.cookie="modern_upbutton_disable_by_user=1; path=/; expires="+o.toUTCString(),$(".modern-upbutton").addClass("modern-upbutton-was-disabled")}function r(o){var t=document.cookie.match(new RegExp("(?:^|; )"+o.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}function u(){$(".off-canvas-wrapper-inner").removeClass("is-off-canvas-open").removeClass("is-open-right").removeClass("is-open-left"),$(".off-canvas.position-left").removeClass("is-open"),$(".off-canvas.position-right").removeClass("is-open")}function i(o){$("html,body").animate({scrollTop:$(o).offset().top-80},"slow")}var a=!1,s=null;$(window).resize(function(){o()}),$(window).scroll(function(){0==a&&1!=window.modern_upbutton_was_killed&&($(window).scrollTop()>=300?($(".modern-upbutton").attr("data-scroll","up"),$(".modern-upbutton").fadeIn(300)):"0"==$(".modern-upbutton").attr("data-pos")&&"up"==$(".modern-upbutton").attr("data-scroll")&&$(".modern-upbutton").fadeOut(300))}),function(){void 0!=r("modern_upbutton_disable_by_user")&&($(".modern-upbutton").addClass("modern-upbutton-was-disabled"),window.modern_upbutton_was_killed=!0)}(),o(),$(".modern-upbutton").bind("click touch ontouchstart",function(o){$(event.target).closest(".modern-upbutton-disable").length||("up"==$(this).attr("data-scroll")?t():n(),event.stopPropagation())}),$(".modern-upbutton-disable").click(function(){e()}),$(".header-hamburger").on(istouch,function(){u();var o=$(this).data("show"),t=$(".off-canvas-wrapper-inner");"left"===o?(t.addClass("is-off-canvas-open").addClass("is-open-left"),$(".off-canvas.position-left").addClass("is-open")):(t.addClass("is-off-canvas-open").addClass("is-open-right"),$(".off-canvas.position-right").addClass("is-open"))}),$(".js-off-canvas-exit").on(istouch,function(){u()}),$(window).resize(function(){$(window).width()>768&&u()}),$.fn.isOnScreen=function(){var o=$(window),t={top:o.scrollTop(),left:o.scrollLeft()};t.right=t.left+o.width(),t.bottom=t.top+o.height();var n=this.offset();return n.right=n.left+this.outerWidth(),n.bottom=n.top+this.outerHeight(),!(t.right<n.left||t.left>n.right||t.bottom<n.top||t.top>n.bottom)},$(window).scroll(function(){$(window).width()>992&&($(".sidebar").isOnScreen()?($(".main").css({"padding-right":"330px","padding-left":"15px"}),$(".sidebar").css({right:"15px",opacity:1})):($(".main").css({"padding-right":"100px","padding-left":"100px"}),$(".sidebar").css({right:"-330px",opacity:0})))});var p=document.querySelectorAll("img");Array.prototype.forEach.call(p,function(o,t){o.setAttribute("onerror","this.src='/images/notfound.jpg'")}),$("#markdown-toc").length&&$("#markdown-toc a").on("click",function(o){o.preventDefault(),i($(this).attr("href"))})});